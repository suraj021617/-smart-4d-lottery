<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>Past Results</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-4">
  
  <div class="max-w-7xl mx-auto">
    <h1 class="text-3xl font-bold text-center mb-6 text-blue-900">ğŸ“Š Past Results</h1>
    
    <!-- Search Filters -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <form method="get" class="space-y-4">
        
        <!-- Date Picker -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div>
            <label class="block font-semibold mb-2">ğŸ“… Pick Date:</label>
            <input type="date" name="date" value="{{ date or '' }}" class="w-full border px-3 py-2 rounded">
          </div>
          
          <!-- Day of Week -->
          <div>
            <label class="block font-semibold mb-2">ğŸ“† Day of Week:</label>
            <select name="day" class="w-full border px-3 py-2 rounded">
              <option value="">All Days</option>
              <option value="Monday" {% if day == 'Monday' %}selected{% endif %}>Monday</option>
              <option value="Tuesday" {% if day == 'Tuesday' %}selected{% endif %}>Tuesday</option>
              <option value="Wednesday" {% if day == 'Wednesday' %}selected{% endif %}>Wednesday</option>
              <option value="Thursday" {% if day == 'Thursday' %}selected{% endif %}>Thursday</option>
              <option value="Friday" {% if day == 'Friday' %}selected{% endif %}>Friday</option>
              <option value="Saturday" {% if day == 'Saturday' %}selected{% endif %}>Saturday</option>
              <option value="Sunday" {% if day == 'Sunday' %}selected{% endif %}>Sunday</option>
            </select>
          </div>
          
          <!-- Month -->
          <div>
            <label class="block font-semibold mb-2">ğŸ“‹ Month:</label>
            <select name="month" class="w-full border px-3 py-2 rounded">
              <option value="">All Months</option>
              <option value="1" {% if month == '1' %}selected{% endif %}>January</option>
              <option value="2" {% if month == '2' %}selected{% endif %}>February</option>
              <option value="3" {% if month == '3' %}selected{% endif %}>March</option>
              <option value="4" {% if month == '4' %}selected{% endif %}>April</option>
              <option value="5" {% if month == '5' %}selected{% endif %}>May</option>
              <option value="6" {% if month == '6' %}selected{% endif %}>June</option>
              <option value="7" {% if month == '7' %}selected{% endif %}>July</option>
              <option value="8" {% if month == '8' %}selected{% endif %}>August</option>
              <option value="9" {% if month == '9' %}selected{% endif %}>September</option>
              <option value="10" {% if month == '10' %}selected{% endif %}>October</option>
              <option value="11" {% if month == '11' %}selected{% endif %}>November</option>
              <option value="12" {% if month == '12' %}selected{% endif %}>December</option>
            </select>
          </div>
          
          <!-- Buttons -->
          <div class="flex items-end gap-2">
            <button type="submit" class="w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 font-semibold">ğŸ” Search</button>
            <a href="/past-results" class="w-full text-center bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500 font-semibold">Clear</a>
          </div>
        </div>
      </form>
    </div>

    <!-- Results Table -->
    {% if results %}
    <div class="overflow-x-auto">
      <table class="w-full border-collapse bg-white shadow-lg">
        <thead>
          <tr class="bg-blue-900 text-white">
            <th class="border border-gray-300 px-4 py-2">Date</th>
            <th class="border border-gray-300 px-4 py-2">Provider</th>
            <th class="border border-gray-300 px-4 py-2">1st Prize</th>
            <th class="border border-gray-300 px-4 py-2">2nd Prize</th>
            <th class="border border-gray-300 px-4 py-2">3rd Prize</th>
            <th class="border border-gray-300 px-4 py-2">Special</th>
            <th class="border border-gray-300 px-4 py-2">Consolation</th>
          </tr>
        </thead>
        <tbody>
          {% for result in results %}
          <tr class="hover:bg-gray-50">
            <td class="border border-gray-300 px-4 py-2 text-center">{{ result.date }}</td>
            <td class="border border-gray-300 px-4 py-2 text-center font-bold">{{ result.provider }}</td>
            <td class="border border-gray-300 px-4 py-2 text-center text-xl font-bold text-red-600">{{ result.first }}</td>
            <td class="border border-gray-300 px-4 py-2 text-center text-xl font-bold text-blue-600">{{ result.second }}</td>
            <td class="border border-gray-300 px-4 py-2 text-center text-xl font-bold text-green-600">{{ result.third }}</td>
            <td class="border border-gray-300 px-4 py-2">
              {% if result.special %}
              <div class="grid grid-cols-5 gap-1 text-sm">
                {% for num in result.special %}
                <span class="text-center">{{ num }}</span>
                {% endfor %}
              </div>
              {% else %}
              <span class="text-gray-400 text-center block">None</span>
              {% endif %}
            </td>
            <td class="border border-gray-300 px-4 py-2">
              {% if result.consolation %}
              <div class="grid grid-cols-5 gap-1 text-sm">
                {% for num in result.consolation %}
                <span class="text-center">{{ num }}</span>
                {% endfor %}
              </div>
              {% else %}
              <span class="text-gray-400 text-center block">None</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="text-center text-gray-500 text-lg mt-6">No results found.</p>
    {% endif %}

    <div class="text-center mt-6">
      <a href="/" class="text-blue-600 hover:text-blue-800 font-medium">â† Back to Dashboard</a>
    </div>
  </div>

</body>
</html>
